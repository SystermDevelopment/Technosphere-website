# Sakuraãƒ¬ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãŸã‚ã®GitHub Actionsã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
# TODO: FTPã®è¨­å®šã‚’GitHub Secretsã«ç™»éŒ²ã™ã‚‹ã“ã¨
# 1. GitHubã®ãƒªãƒã‚¸ãƒˆãƒªã®Settingsã«ç§»å‹•
# 2. Secrets and variables > Actionsã«ç§»å‹•
# 3. New repository secretã‚’ã‚¯ãƒªãƒƒã‚¯
# 4. ä»¥ä¸‹ã®3ã¤ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¿½åŠ 
#    - FTP_SERVER: FTPã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¾‹: ftp.example.comï¼‰
#    - FTP_USERNAME: FTPã®ãƒ¦ãƒ¼ã‚¶å
#    - FTP_PASSWORD: FTPã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
# 5. ä¿å­˜
# 6. ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ã€GitHub ActionsãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
#
# TODO: Sakura ã‚µãƒ¼ãƒã§FTPã‚¢ã‚¯ã‚»ã‚¹ã‚’ã€Œæµ·å¤–ã€ã‹ã‚‰è¨±å¯ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ 

name: ğŸš€ technosphere-homepage-deploy

on:
  ###############################
  # ä¸€æ™‚çš„ã« actions ã‚’ç„¡åŠ¹åŒ–
  push:
    branches-ignore:
      - '**'
  ###############################

  # mainãƒ–ãƒ©ãƒ³ãƒã«å¤‰æ›´ãŒã‚ã£ãŸå ´åˆ
  # push:
  #  branches: [main]

  # æ‰‹å‹•ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å ´åˆ
  workflow_dispatch:

jobs:
  ftp-deploy:
    name: ğŸ‰ deploy
    
    runs-on: ubuntu-latest
    steps:
      # 1. ãƒªãƒã‚¸ãƒˆãƒªå†…å®¹ã‚’å–å¾—
      - name: ğŸšš checkout-code
        uses: actions/checkout@v4

      # 2. FTPã‚’çµŒç”±ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¡Œã†
      - name: ğŸ“‚ deploy-to-FTP-server
        uses: SamKirkland/FTP-Deploy-Action@4.3.0
        with:
          # FTPã‚µãƒ¼ãƒã®ãƒ›ã‚¹ãƒˆå
          server: ${{ secrets.FTP_SERVER }}
          # FTPã‚µãƒ¼ãƒã®ãƒ¦ãƒ¼ã‚¶å
          username: ${{ secrets.FTP_USERNAME }}
          # FTPã‚µãƒ¼ãƒã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
          password: ${{ secrets.FTP_PASSWORD }}
          local-dir: ./www
          server-dir: /home/purplealpaca28/www